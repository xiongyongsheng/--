# String syntax

## 长字符串

- 如果长字符串必须分成多行，可以在每一行的尾部使用反斜杠。

```js
var longString =
  "Long \
long \
long \
string";

longString;
// "Long long long string"
```

- 连接运算符（`+`）可以连接多个单行字符串，将长字符串拆成多行书写，输出的时候也是单行。

```js
var longString = "Long " + "long " + "long " + "string";
```

## 转义

反斜杠（`\`）在字符串内有特殊含义，用来表示一些特殊字符，所以又称为转义符。

如果在非特殊字符前面使用反斜杠，则反斜杠会被省略。

```js
"\a";
// "a"
```

## 字符串与数组

字符串可以被视为字符数组，因此可以使用数组的方括号运算符，用来返回某个位置的字符（位置编号从 0 开始）。

如果方括号中的数字超过字符串的长度，或者方括号中根本不是数字，则返回 `undefined`。

```js
"abc"[3]; // undefined
"abc"[-1]; // undefined
"abc"["x"]; // undefined
```

但是，字符串与数组的相似性仅此而已。实际上，**无法改变**字符串之中的单个字符。

```js
var s = "hello";

delete s[0];
s; // "hello"

s[1] = "a";
s; // "hello"

s[5] = "!";
s; // "hello"
```

上面代码表示，字符串内部的单个字符无法改变和增删，这些操作会默默地失败。

## length

字符串的 `length` 属性无法改变，也不会报错。

#### JavaScript 返回的字符串长度可能是不正确的.

```js
"𝌆".length; // 2
```

上面代码中，JavaScript 认为 `𝌆` 的长度为 2，而不是 1。

总结一下，对于码点在 `U+10000` 到 `U+10FFFF` 之间的字符，JavaScript 总是认为它们是两个字符（`length` 属性为 2）。所以处理的时候，必须把这一点考虑在内，也就是说，JavaScript 返回的字符串长度可能是不正确的。

> JavaScript 对 UTF-16 的支持是不完整的，由于历史原因，只支持两字节的字符，不支持四字节的字符。这是因为 JavaScript 第一版发布的时候，Unicode 的码点只编到 `U+FFFF`，因此两字节足够表示了。后来，Unicode 纳入的字符越来越多，出现了四字节的编码。但是，JavaScript 的标准此时已经定型了，统一将字符长度限制在两字节，导致无法识别四字节的字符。四字节字符 `𝌆`，浏览器会正确识别这是一个字符，但是 JavaScript 无法识别，会认为这是两个字符。
